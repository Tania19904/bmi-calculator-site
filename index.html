<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BMI & Daily Calorie Calculator</title>
  <meta name="description" content="Free BMI and Calorie Calculator. Enter your height, weight, age, and activity to get your BMI category and daily calories." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { color-scheme: light; }
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; }
    .glass { backdrop-filter: blur(8px); background: rgba(255,255,255,0.7); }
    .shadow-soft { box-shadow: 0 10px 25px rgba(0,0,0,.08); }
    .ring-focus:focus { outline: none; box-shadow: 0 0 0 4px rgba(99,102,241,.25); }
  </style>

  <!-- Google AdSense (load once) -->
  <!-- Replace ca-pub-XXXXXXXXXXXXXXXX with your AdSense publisher ID -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
          crossorigin="anonymous"></script>
</head>
<body class="min-h-screen bg-gradient-to-b from-indigo-50 via-white to-white text-slate-800">
  <!-- Header -->
  <header class="px-6 py-6">
    <div class="max-w-5xl mx-auto flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-2xl bg-indigo-600 grid place-items-center text-white font-bold">BMI</div>
        <span class="font-semibold text-lg">BMI & Calorie Calculator</span>
      </div>
      <a href="#cta" class="hidden sm:inline-block text-sm font-semibold text-indigo-700 hover:text-indigo-900">Get Meal Plan →</a>
    </div>
  </header>

  <!-- Hero -->
  <section class="px-6 pt-2 pb-10">
    <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-8 items-start">
      <div>
        <h1 class="text-3xl md:text-4xl font-extrabold leading-tight text-slate-900">Check your <span class="text-indigo-600">BMI</span> and daily calories in seconds</h1>
        <p class="mt-3 text-slate-600">Simple, accurate, and free. Works with metric & imperial units. No signup.</p>
        <ul class="mt-5 space-y-2 text-slate-700 text-sm">
          <li>• Uses the <strong>Mifflin–St Jeor</strong> equation for daily energy needs</li>
          <li>• BMI categories per WHO: Underweight, Normal, Overweight, Obesity</li>
          <li>• Instant results with healthy ranges and tips</li>
        </ul>
      </div>

      <!-- Calculator Card -->
      <div class="glass shadow-soft rounded-2xl p-5 md:p-6 border border-slate-100">
        <form id="calcForm" class="grid grid-cols-1 gap-4">
          <!-- Unit toggle -->
          <div class="flex items-center gap-3">
            <span class="text-sm font-semibold text-slate-700">Units:</span>
            <label class="inline-flex items-center gap-2 text-sm">
              <input type="radio" name="units" value="metric" class="accent-indigo-600" checked>
              Metric (kg, cm)
            </label>
            <label class="inline-flex items-center gap-2 text-sm">
              <input type="radio" name="units" value="imperial" class="accent-indigo-600">
              Imperial (lb, ft/in)
            </label>
          </div>

          <!-- Sex & Age -->
          <div class="grid grid-cols-2 gap-3">
            <label class="text-sm">
              <span class="block mb-1 font-semibold">Sex</span>
              <select name="sex" class="w-full border rounded-xl px-3 py-2 ring-focus">
                <option value="male">Male</option>
                <option value="female">Female</option>
              </select>
            </label>
            <label class="text-sm">
              <span class="block mb-1 font-semibold">Age</span>
              <input type="number" name="age" min="10" max="120" value="30" class="w-full border rounded-xl px-3 py-2 ring-focus" required>
            </label>
          </div>

          <!-- Height -->
          <div id="heightMetric" class="grid grid-cols-2 gap-3">
            <label class="text-sm">
              <span class="block mb-1 font-semibold">Height (cm)</span>
              <input type="number" name="height_cm" min="100" max="250" value="170" class="w-full border rounded-xl px-3 py-2 ring-focus">
            </label>
          </div>
          <div id="heightImperial" class="grid grid-cols-2 gap-3 hidden">
            <label class="text-sm">
              <span class="block mb-1 font-semibold">Height (ft)</span>
              <input type="number" name="height_ft" min="3" max="8" class="w-full border rounded-xl px-3 py-2 ring-focus">
            </label>
            <label class="text-sm">
              <span class="block mb-1 font-semibold">Height (in)</span>
              <input type="number" name="height_in" min="0" max="11" class="w-full border rounded-xl px-3 py-2 ring-focus">
            </label>
          </div>

          <!-- Weight -->
          <div id="weightMetric" class="grid grid-cols-2 gap-3">
            <label class="text-sm">
              <span class="block mb-1 font-semibold">Weight (kg)</span>
              <input type="number" name="weight_kg" min="30" max="250" value="70" class="w-full border rounded-xl px-3 py-2 ring-focus">
            </label>
          </div>
          <div id="weightImperial" class="grid grid-cols-2 gap-3 hidden">
            <label class="text-sm">
              <span class="block mb-1 font-semibold">Weight (lb)</span>
              <input type="number" name="weight_lb" min="66" max="550" class="w-full border rounded-xl px-3 py-2 ring-focus">
            </label>
          </div>

          <!-- Activity -->
          <label class="text-sm">
            <span class="block mb-1 font-semibold">Activity level</span>
            <select name="activity" class="w-full border rounded-xl px-3 py-2 ring-focus">
              <option value="1.2">Sedentary (little or no exercise)</option>
              <option value="1.375">Light (1–3 days/week)</option>
              <option value="1.55" selected>Moderate (3–5 days/week)</option>
              <option value="1.725">Active (6–7 days/week)</option>
              <option value="1.9">Very active (physical job + training)</option>
            </select>
          </label>

          <button type="submit" class="mt-1 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-3 rounded-xl shadow-soft">Calculate</button>
        </form>

        <!-- Results -->
        <div id="results" class="mt-6 hidden">

          <!-- AdSense: In-Content Responsive (below results header) -->
          <ins class="adsbygoogle"
               style="display:block"
               data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
               data-ad-slot="1111111111"
               data-ad-format="auto"
               data-full-width-responsive="true"></ins>
          <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>

          <div class="rounded-2xl border border-slate-200 p-4 bg-white mt-4">
            <div class="flex items-center justify-between gap-4">
              <div>
                <p class="text-xs uppercase tracking-wide text-slate-500">Your BMI</p>
                <p id="bmiOut" class="text-2xl font-extrabold text-slate-900">—</p>
                <p id="bmiCat" class="text-sm font-semibold text-slate-700">—</p>
              </div>
              <div class="w-px h-12 bg-slate-200 hidden sm:block"></div>
              <div>
                <p class="text-xs uppercase tracking-wide text-slate-500">Daily Calories</p>
                <p id="calOut" class="text-2xl font-extrabold text-slate-900">—</p>
                <p class="text-xs text-slate-500">(maintenance)</p>
              </div>
            </div>
          </div>

          <div class="grid md:grid-cols-3 gap-3 mt-3">
            <div class="rounded-xl border p-3 bg-white">
              <p class="text-sm font-semibold">Mild deficit (−10%)</p>
              <p id="calCut" class="text-2xl font-bold">—</p>
            </div>
            <div class="rounded-xl border p-3 bg-white">
              <p class="text-sm font-semibold">Recomp / Maintain</p>
              <p id="calMain" class="text-2xl font-bold">—</p>
            </div>
            <div class="rounded-xl border p-3 bg-white">
              <p class="text-sm font-semibold">Lean bulk (+10%)</p>
              <p id="calBulk" class="text-2xl font-bold">—</p>
            </div>
          </div>

          <p id="tip" class="mt-4 text-sm text-slate-600"></p>

          <!-- Monetization: A/B test block (Affiliate vs AdSense) -->
          <div id="cta" class="mt-6">
            <div id="affiliateBlock" class="hidden rounded-2xl bg-indigo-50 border border-indigo-100 p-4">
              <p class="text-sm text-indigo-900 font-semibold">Next step on your journey:</p>
              <ul class="mt-2 space-y-1 text-sm text-indigo-800">
                <li>✅ <a href="YOUR_NOOM_AFFILIATE_LINK" class="underline font-semibold">Try Noom’s free trial</a> – custom weight loss coaching</li>
                <li>✅ <a href="YOUR_HEALTHPOST_AFFILIATE_LINK" class="underline font-semibold">Shop HealthPost NZ</a> – supplements, protein & wellness</li>
              </ul>
            </div>

            <div id="adsenseBlock" class="hidden rounded-2xl bg-indigo-50 border border-indigo-100 p-4">
              <p class="text-sm text-indigo-900 font-semibold mb-2">Sponsored:</p>
              <ins class="adsbygoogle"
                   style="display:block"
                   data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                   data-ad-slot="4444444444"
                   data-ad-format="auto"
                   data-full-width-responsive="true"></ins>
              <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
            </div>

            <script>
              // 50/50 A/B test between affiliate and AdSense
              if (Math.random() < 0.5) {
                document.getElementById('affiliateBlock').classList.remove('hidden');
              } else {
                document.getElementById('adsenseBlock').classList.remove('hidden');
              }
            </script>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ / SEO copy -->
  <section class="px-6 pb-16">
    <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-8">
      <div class="prose max-w-none">
        <h2 class="text-xl font-extrabold">What is BMI?</h2>
        <p class="text-slate-700">Body Mass Index (BMI) is your weight (kg) divided by your height (m) squared. It’s a quick screening tool, not a diagnosis. Athletes and people with higher muscle mass may have higher BMI despite low body fat.</p>
        <ul class="text-sm text-slate-700 list-disc pl-5">
          <li>Underweight: &lt; 18.5</li>
          <li>Normal: 18.5 – 24.9</li>
          <li>Overweight: 25 – 29.9</li>
          <li>Obesity: ≥ 30</li>
        </ul>
      </div>
      <div class="prose max-w-none">
        <h2 class="text-xl font-extrabold">How we calculate daily calories</h2>
        <p class="text-slate-700">We use the Mifflin–St Jeor equation to estimate your Basal Metabolic Rate (BMR), then multiply by your activity level to estimate Total Daily Energy Expenditure (TDEE).</p>
        <p class="text-sm text-slate-500">Formula: Male = 10×kg + 6.25×cm − 5×age + 5; Female = 10×kg + 6.25×cm − 5×age − 161.</p>
      </div>
    </div>
  </section>

  <footer class="px-6 pb-20 sm:pb-12">
    <div class="max-w-5xl mx-auto text-xs text-slate-500">For information only. Consult a professional for personal advice.</div>

    <!-- AdSense: Footer Responsive -->
    <div class="max-w-5xl mx-auto mt-6">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
           data-ad-slot="2222222222"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
    </div>
  </footer>

  <!-- Sticky bottom ad (mobile only) -->
  <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 sm:hidden z-50">
    <ins class="adsbygoogle"
         style="display:block; height:60px"
         data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
         data-ad-slot="3333333333"
         data-ad-format="horizontal"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
  </div>

  <script>
    const el = (sel) => document.querySelector(sel);

    const metricWrapH = document.getElementById('heightMetric');
    const imperialWrapH = document.getElementById('heightImperial');
    const metricWrapW = document.getElementById('weightMetric');
    const imperialWrapW = document.getElementById('weightImperial');

    function toggleUnits(units) {
      const isMetric = units === 'metric';
      metricWrapH.classList.toggle('hidden', !isMetric);
      imperialWrapH.classList.toggle('hidden', isMetric);
      metricWrapW.classList.toggle('hidden', !isMetric);
      imperialWrapW.classList.toggle('hidden', isMetric);
    }

    document.querySelectorAll('input[name="units"]').forEach(r => {
      r.addEventListener('change', (e) => toggleUnits(e.target.value));
    });

    function toMetricHeightCm({ units, height_cm, height_ft, height_in }) {
      if (units === 'metric') return Number(height_cm);
      const ft = Number(height_ft || 0), inch = Number(height_in || 0);
      const totalIn = ft * 12 + inch;
      return totalIn * 2.54; // inches to cm
    }

    function toMetricWeightKg({ units, weight_kg, weight_lb }) {
      if (units === 'metric') return Number(weight_kg);
      return Number(weight_lb) * 0.45359237; // lb to kg
    }

    function calcBMI(kg, cm) {
      const m = cm / 100;
      return kg / (m * m);
    }

    function bmiCategory(bmi) {
      if (bmi < 18.5) return 'Underweight';
      if (bmi < 25) return 'Normal';
      if (bmi < 30) return 'Overweight';
      return 'Obesity';
    }

    function mifflinStJeor({ sex, age, kg, cm, activity }) {
      const bmr = (sex === 'male')
        ? (10 * kg + 6.25 * cm - 5 * age + 5)
        : (10 * kg + 6.25 * cm - 5 * age - 161);
      return bmr * activity;
    }

    function fmt(n) { return Math.round(n).toLocaleString(); }

    function tipFor(bmiCat) {
      switch (bmiCat) {
        case 'Underweight': return 'Consider a small calorie surplus and strength training. Speak to a healthcare professional for tailored guidance.';
        case 'Normal': return 'You\'re in the healthy BMI range. Maintain with balanced nutrition and regular activity.';
        case 'Overweight': return 'A mild calorie deficit (5–15%) and increased daily movement can help.';
        case 'Obesity': return 'A structured plan with professional support is recommended. Start with small, sustainable changes.';
        default: return '';
      }
    }

    document.getElementById('calcForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(e.target).entries());

      const units = data.units;
      const sex = data.sex;
      const age = Number(data.age);
      const cm = toMetricHeightCm({ units, height_cm: data.height_cm, height_ft: data.height_ft, height_in: data.height_in });
      const kg = toMetricWeightKg({ units, weight_kg: data.weight_kg, weight_lb: data.weight_lb });
      const activity = Number(data.activity);

      if (!cm || !kg || !age) { alert('Please fill out your height, weight, and age.'); return; }

      const bmi = calcBMI(kg, cm);
      const bmiCat = bmiCategory(bmi);
      const tdee = mifflinStJeor({ sex, age, kg, cm, activity });

      el('#bmiOut').textContent = (Math.round(bmi * 10) / 10).toFixed(1);
      el('#bmiCat').textContent = bmiCat;
      el('#calOut').textContent = fmt(tdee);
      el('#calMain').textContent = fmt(tdee);
      el('#calCut').textContent = fmt(tdee * 0.9);
      el('#calBulk').textContent = fmt(tdee * 1.1);
      el('#tip').textContent = tipFor(bmiCat);

      el('#results').classList.remove('hidden');
    });
  </script>
</body>
</html>
